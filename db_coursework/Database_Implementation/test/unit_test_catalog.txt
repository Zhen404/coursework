********************    Starting test_create_table_1    ********************


People table {
  "definition": {
    "name": "people",
    "path": "../Data/People.csv"
  },
  "columns": [],
  "indexes": {}
}


********************    Complete test_create_table_1    ********************




********************    Starting test_create_table_2_fail    ********************


Second created failed with e =  (1062, "Duplicate entry 'people' for key 'PRIMARY'")
Second create should fail.


********************    Successful end for  test_create_table_2_fail    ********************




********************    Starting test_create_table_3    ********************


People table {
  "definition": {
    "name": "people",
    "path": "/Users/zhenli/W4111-f18/Projects/HW1-Templates/Python/HW3/Data/People.csv"
  },
  "columns": [
    {
      "column_name": "playerID",
      "column_type": "text",
      "not_null": true
    },
    {
      "column_name": "nameLast",
      "column_type": "text",
      "not_null": true
    },
    {
      "column_name": "nameFirst",
      "column_type": "text",
      "not_null": false
    }
  ],
  "indexes": {}
}


********************    Complete test_create_table_3    ********************




********************    Starting test_create_table_3_fail    ********************


Exception=  Some defined column not in underlying CSV


********************    FAILURE test_create_table_3    ********************


Exception e =  'NoneType' object has no attribute 'describe_table'


********************    Complete test_create_table_3_fail successfully    ********************




********************    Starting test_create_table_4    ********************


People table {
  "definition": {
    "name": "batting",
    "path": "../Data/Batting.csv"
  },
  "columns": [
    {
      "column_name": "playerID",
      "column_type": "text",
      "not_null": true
    },
    {
      "column_name": "teamID",
      "column_type": "text",
      "not_null": true
    },
    {
      "column_name": "yearID",
      "column_type": "text",
      "not_null": true
    },
    {
      "column_name": "stint",
      "column_type": "number",
      "not_null": true
    },
    {
      "column_name": "H",
      "column_type": "number",
      "not_null": false
    },
    {
      "column_name": "AB",
      "column_type": "number",
      "not_null": false
    }
  ],
  "indexes": {
    "PRIMARY": {
      "index_name": "PRIMARY",
      "columns": [
        "playerID",
        "teamID",
        "yearID",
        "stint"
      ],
      "kind": "PRIMARY"
    }
  }
}


********************    Complete test_create_table_4    ********************




********************    Starting test_create_table_4_fail    ********************


Exception=  Cannot define primary key because Column not in Table
Batting table {
  "definition": {
    "name": "batting",
    "path": "../Data/Batting.csv"
  },
  "columns": [
    {
      "column_name": "playerID",
      "column_type": "text",
      "not_null": true
    },
    {
      "column_name": "teamID",
      "column_type": "text",
      "not_null": true
    },
    {
      "column_name": "yearID",
      "column_type": "text",
      "not_null": true
    },
    {
      "column_name": "stint",
      "column_type": "number",
      "not_null": true
    },
    {
      "column_name": "H",
      "column_type": "number",
      "not_null": false
    },
    {
      "column_name": "AB",
      "column_type": "number",
      "not_null": false
    }
  ],
  "indexes": {}
}


********************    FAILURES test_create_table_4_fail    ********************




********************    Starting test_create_table_5_prep    ********************


Batting table {
  "definition": {
    "name": "batting",
    "path": "../Data/Batting.csv"
  },
  "columns": [
    {
      "column_name": "playerID",
      "column_type": "text",
      "not_null": true
    },
    {
      "column_name": "teamID",
      "column_type": "text",
      "not_null": true
    },
    {
      "column_name": "yearID",
      "column_type": "text",
      "not_null": true
    },
    {
      "column_name": "stint",
      "column_type": "number",
      "not_null": true
    },
    {
      "column_name": "H",
      "column_type": "number",
      "not_null": false
    },
    {
      "column_name": "AB",
      "column_type": "number",
      "not_null": false
    }
  ],
  "indexes": {
    "PRIMARY": {
      "index_name": "PRIMARY",
      "columns": [
        "playerID",
        "teamID",
        "yearID",
        "stint"
      ],
      "kind": "PRIMARY"
    }
  }
}


********************    Starting test_create_table_5    ********************


Initial status of table = 
 {
  "definition": {
    "name": "batting",
    "path": "../Data/Batting.csv"
  },
  "columns": [
    {
      "column_name": "playerID",
      "column_type": "text",
      "not_null": true
    },
    {
      "column_name": "teamID",
      "column_type": "text",
      "not_null": true
    },
    {
      "column_name": "yearID",
      "column_type": "text",
      "not_null": true
    },
    {
      "column_name": "stint",
      "column_type": "number",
      "not_null": true
    },
    {
      "column_name": "H",
      "column_type": "number",
      "not_null": false
    },
    {
      "column_name": "AB",
      "column_type": "number",
      "not_null": false
    }
  ],
  "indexes": {
    "PRIMARY": {
      "index_name": "PRIMARY",
      "columns": [
        "playerID",
        "teamID",
        "yearID",
        "stint"
      ],
      "kind": "PRIMARY"
    }
  }
}
Modified status of table = 
 {
  "definition": {
    "name": "batting",
    "path": "../Data/Batting.csv"
  },
  "columns": [
    {
      "column_name": "playerID",
      "column_type": "text",
      "not_null": true
    },
    {
      "column_name": "teamID",
      "column_type": "text",
      "not_null": true
    },
    {
      "column_name": "yearID",
      "column_type": "text",
      "not_null": true
    },
    {
      "column_name": "stint",
      "column_type": "number",
      "not_null": true
    },
    {
      "column_name": "H",
      "column_type": "number",
      "not_null": false
    },
    {
      "column_name": "AB",
      "column_type": "number",
      "not_null": false
    },
    {
      "column_name": "HR",
      "column_type": "number",
      "not_null": false
    },
    {
      "column_name": "G",
      "column_type": "number",
      "not_null": false
    }
  ],
  "indexes": {
    "PRIMARY": {
      "index_name": "PRIMARY",
      "columns": [
        "playerID",
        "teamID",
        "yearID",
        "stint"
      ],
      "kind": "PRIMARY"
    },
    "team_year_idx": {
      "index_name": "team_year_idx",
      "columns": [
        "teamID",
        "yearID"
      ],
      "kind": "INDEX"
    }
  }
}


********************    Success test_create_table_5    ********************




********************    Starting test_create_table_6    ********************


Current status of table = 
 {
  "definition": {
    "name": "batting",
    "path": "../Data/Batting.csv"
  },
  "columns": [
    {
      "column_name": "playerID",
      "column_type": "text",
      "not_null": true
    },
    {
      "column_name": "teamID",
      "column_type": "text",
      "not_null": true
    },
    {
      "column_name": "yearID",
      "column_type": "text",
      "not_null": true
    },
    {
      "column_name": "stint",
      "column_type": "number",
      "not_null": true
    },
    {
      "column_name": "H",
      "column_type": "number",
      "not_null": false
    },
    {
      "column_name": "AB",
      "column_type": "number",
      "not_null": false
    },
    {
      "column_name": "HR",
      "column_type": "number",
      "not_null": false
    },
    {
      "column_name": "G",
      "column_type": "number",
      "not_null": false
    }
  ],
  "indexes": {
    "PRIMARY": {
      "index_name": "PRIMARY",
      "columns": [
        "playerID",
        "teamID",
        "yearID",
        "stint"
      ],
      "kind": "PRIMARY"
    },
    "team_year_idx": {
      "index_name": "team_year_idx",
      "columns": [
        "teamID",
        "yearID"
      ],
      "kind": "INDEX"
    }
  }
}
Index Selectivity of teamID_yearID is 36


********************    Success test_create_table_6    ********************




********************    Starting test_create_table_6_fail    ********************


Current status of table = 
 {
  "definition": {
    "name": "batting",
    "path": "../Data/Batting.csv"
  },
  "columns": [
    {
      "column_name": "playerID",
      "column_type": "text",
      "not_null": true
    },
    {
      "column_name": "teamID",
      "column_type": "text",
      "not_null": true
    },
    {
      "column_name": "yearID",
      "column_type": "text",
      "not_null": true
    },
    {
      "column_name": "stint",
      "column_type": "number",
      "not_null": true
    },
    {
      "column_name": "H",
      "column_type": "number",
      "not_null": false
    },
    {
      "column_name": "AB",
      "column_type": "number",
      "not_null": false
    },
    {
      "column_name": "HR",
      "column_type": "number",
      "not_null": false
    },
    {
      "column_name": "G",
      "column_type": "number",
      "not_null": false
    }
  ],
  "indexes": {
    "PRIMARY": {
      "index_name": "PRIMARY",
      "columns": [
        "playerID",
        "teamID",
        "yearID",
        "stint"
      ],
      "kind": "PRIMARY"
    },
    "team_year_idx": {
      "index_name": "team_year_idx",
      "columns": [
        "teamID",
        "yearID"
      ],
      "kind": "INDEX"
    }
  }
}
Exception=  Index name not defined in the table
Index Selectivity of teamID is None


********************    FAILURES test_create_table_6_fail    ********************

